---
title: Docs Generation
description: Sometimes, "no comment" is not a wise stance
icon: lucide:file-pen-line
---

When searching for actual projects of CLI tools generating docs from comments in .sh files, [shdoc](https://github.com/reconquest/shdoc) and [BashDoc](https://github.com/dustinknopoff/bashdoc) are often in the short-list and they are somehow complementary. **shdoc** is more opinionated, expecting a specific syntax, while bashdoc is more minimalistic (output wise) but it can work beyond "functions comments".

As of now, instead of choosing, Sh:erpa implements a mix of both when we run the `shherpa doc` or `sh d` commands. Here are some examples of syntax:

## shdoc

The most part of your docs annotations, will often be in the beginning of your file. This can go directly into `src/bin.sh` as we are often there, of in a partial rendering above it like `src/_globals.sh`. It's up to you.

As all the files in the `src/` will be merged into a single one on each `build` command, the header part should obviously be featured once.


```bash
#!/bin/bash
# @file libexample
# @brief A library that solves some common problems.
# @description
#     The project solves lots of problems:
#      * a
#      * b
#      * c
#      * etc

# @description My super function.
# Not thread-safe.
#
# @example
#    echo "test: $(say-hello World)"
#
#
# @option -h | --help Display help.
# @option -v<value> | --value=<value> Set a value.
#
# @arg $1 string A value to print
#
# @stdout Output 'Hello $1'.
#   It hopes you say Hello back.
# @stderr Output 'Oups !' on error.
#   It did it again.
#
# @exitcode 0 If successful.
# @exitcode 1 If an empty string passed.
#
# @see validate()
# @see [shdoc](https://github.com/reconquest/shdoc).
say-hello() {
    if [[ ! "$1" ]]; then
        echo "Oups !" >&2
        return 1;
    fi

    echo "Hello $1"
}
```

## BashDoc

On [Github](https://github.com/dustinknopoff/bashdoc), [Dustin Knopoff](https://dustinknopoff.dev/) describes it as: _"A tool for generating documentation/help menu for ~~user defined bash functions~~ any folder or file with 6 generic delimiters defined."_

**Basic syntax**

```bash
#;
# cd()
# moves to given directory
# @param directory: folder to move to
# @return void
#"
cd() {
   cd $1
}
```
**Global Delimiters**

- START_DELIM = #;
- END_DELIM = #"
- PAR_DELIM = @param
- RET_DELIM = @return
- OPT_DELIM = # -
- COMM_DELIM = #


On build command, Sh:erpa will look if it finds some complementary BashDoc annotations, after having parsed the main part above.

## What next?

As of now it's already a good enough start, and we'll see along the way how it feels, but already cheers to the people behind those projects.

A homemade or community addition of something tracking the `# TODO: Something` lines for a project dashboard sounds interesting.
